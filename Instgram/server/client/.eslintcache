[{"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\index.js":"1","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\reportWebVitals.js":"2","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\App.js":"3","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\Navbar.js":"4","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Home.js":"5","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Signup.js":"6","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Profile.js":"7","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\CreatePost.js":"8","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Signin.js":"9","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\reducers\\userReducer.js":"10","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\SubscribesUserPost.js":"11","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\UserProfile.js":"12"},{"size":500,"mtime":499162500000,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":1751,"mtime":1609836899116,"results":"16","hashOfConfig":"14"},{"size":1691,"mtime":1609828437479,"results":"17","hashOfConfig":"14"},{"size":6056,"mtime":1609841133846,"results":"18","hashOfConfig":"14"},{"size":4009,"mtime":1610016502823,"results":"19","hashOfConfig":"14"},{"size":3890,"mtime":1609996280069,"results":"20","hashOfConfig":"14"},{"size":3026,"mtime":1609858554146,"results":"21","hashOfConfig":"14"},{"size":2546,"mtime":1609417893734,"results":"22","hashOfConfig":"14"},{"size":556,"mtime":1609926572893,"results":"23","hashOfConfig":"14"},{"size":6237,"mtime":1609841035664,"results":"24","hashOfConfig":"14"},{"size":4767,"mtime":1609870173283,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"v9fee0",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"28"},"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\index.js",[],["55","56"],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\reportWebVitals.js",[],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\App.js",["57","58"],"import React,{useEffect,createContext,useReducer,useContext} from 'react'\nimport './App.css';\nimport Navbar from './components/Navbar';\nimport {BrowserRouter,Route, Switch, useHistory} from \"react-router-dom\"\nimport Home from './components/screens/Home';\n\nimport Signup from './components/screens/Signup';\nimport Profile from './components/screens/Profile';\nimport CreatePost from './components/screens/CreatePost';\nimport { initialState, reducer } from './reducers/userReducer';\nimport UserProfile from './components/screens/UserProfile';\nimport SubscribesUserPost from './components/screens/SubscribesUserPost';\nimport Signin from './components/screens/Signin';\n\n\nexport const UserContext = createContext()\n\nconst Routing = ()=>{\n  const history=useHistory()\n  const {state,dispatch}=useContext(UserContext)\n  \n  useEffect(()=>{\n\n    const user=JSON.parse(localStorage.getItem(\"user\"))\n    \n    if(user){\n      dispatch({type:\"USER\",playload:user})\n    }else{\n      history.push(\"/signin\")\n    }\n  },[])\n  return (\n    <Switch>\n      <Route  exact path='/' component={Home}/>\n      <Route   path='/signin' component={Signin}/>\n      <Route  path=\"/signup\" component={Signup}/>\n      <Route exact path=\"/profile\" component={Profile}/>\n      <Route  path=\"/create\" component={CreatePost}/>\n      <Route  path=\"/profile/:userid\" component={UserProfile}/>\n      <Route  path=\"/myfollowingpost\" component={SubscribesUserPost}/>\n    </Switch>\n  )\n\n}\n\nfunction App() {\n  const [state,dispatch]=useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n    <div className=\"App\">\n      <Navbar/>\n      <Routing/>\n    </div>\n    </BrowserRouter>\n    </UserContext.Provider>\n  )\n}\n\nexport default App;\n","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\Navbar.js",[],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Home.js",[],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Signup.js",["59"],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Profile.js",["60"],"import React,{useEffect,useState,useContext}from 'react';\r\nimport {UserContext} from \"../../App\"\r\n\r\nconst Profile = () =>{\r\n    const [mypics,setMypics] = useState([])\r\n    const {state,dispatch}= useContext(UserContext)\r\n    const [image,setImage]= useState(\"\")\r\n    // const [url,setUrl]= useState(\"\")\r\n    console.log(state)\r\n    \r\n    useEffect(()=>{\r\n        fetch(\"/mypost\",{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") \r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            setMypics(result.mypost)  \r\n        })\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        if(image){\r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"insta-clone\")\r\n        data.append(\"cloud_name\",\"di3spqvdb\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/di3spqvdb/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            fetch('/updatepic',{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")  \r\n                },\r\n                body:JSON.stringify({\r\n                    photo:data.url\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(result=>{ \r\n                console.log(result)\r\n                localStorage.setItem(\"user\",JSON.stringify({...state,photo:result.photo}))\r\n                dispatch({type:\"UPDATEPIC\",payload:result.photo})\r\n                //   window.location.reload()\r\n            })\r\n          \r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    },[image])\r\n\r\n    const updatePhoto =(file) => {\r\n          setImage(file)     \r\n    }\r\n\r\n    return(\r\n       <div style={{maxWidth:\"550px\", margin:\"0px auto\"}}>\r\n           <div style={{\r\n               margin:\"18px 0px\",\r\n               borderBottom:\"1px solid grey\"\r\n           }}>\r\n           \r\n           <div style={{\r\n               display:\"flex\",\r\n               justifyContent:\"space-around\", \r\n           }}>\r\n               <div>\r\n                   <img style={{width:\"160px\", height:\"160px\",borderRadius:\"80px\"}} alt=\"\"\r\n                   src={state?state.photo:\"loading\"}/>\r\n                </div>\r\n               <div> \r\n                    <h4>{state?state.name:\"Loading\"}</h4>\r\n                    <h5>{state?state.email:\"Loading\"}</h5>\r\n                    <div style={{display:\"flex\",justifyContent:\"space-around\",width:\"118%\"}}>\r\n                        <h6>{mypics.length} posts</h6>\r\n                        <h6>{state?state.followers.length:\"0\"} followers</h6>\r\n                        <h6>{state?state.following.length:\"0\"} following</h6>\r\n                    </div>\r\n               </div>\r\n           </div>\r\n            <div className=\"file-field input-field\" style={{margin:\"10px\"}}>\r\n                <div className=\"btn #64b5f6 blue darken-1\">\r\n                    <span>\r\n                        Update Photo\r\n                    </span>\r\n                    <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])} />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\"/> \r\n                </div> \r\n\r\n            </div>\r\n        \r\n            </div>\r\n           <div className=\"gallery\">\r\n               { \r\n                   mypics.map(item=>{\r\n                    return(\r\n                    <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/> \r\n                   )}\r\n                \r\n               )\r\n               }\r\n           </div>\r\n       </div>\r\n     \r\n\r\n    )\r\n    \r\n}\r\nexport default Profile;\r\n","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\CreatePost.js",["61"],"import React, { useState ,useEffect} from 'react';\r\nimport M from 'materialize-css'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst CreatePost = () =>{\r\n    const history=useHistory()\r\n    const [title,setTitle]=useState(\"\")\r\n    const [body,setBody]=useState(\"\")\r\n    const [image,setImage] = useState(\"\")\r\n    const [url,setUrl] = useState(\"\")\r\n\r\n\r\n    useEffect(()=>{\r\n        if(url){\r\n        fetch(\"/createpost\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                photo:url\r\n            })\r\n        })\r\n         .then(res=>res.json())\r\n        .then(data=>\r\n            {\r\n            if(data.error){\r\n                M.toast({html:data.error,classes:\"#c62828 red darken-3\"})\r\n            }\r\n            else{\r\n                M.toast({html:\"Posted\",classes:\"#43a047 green darken-1\"})\r\n                history.push(\"/\")\r\n            }\r\n        }\r\n        \r\n        ).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    },[url])\r\n\r\n    const postDetails=()=>{\r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"insta-clone\")\r\n        data.append(\"cloud_name\",\"di3spqvdb\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/di3spqvdb/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n       \r\n    }\r\n    return(\r\n        <div className=\"card input-field\" style={{\r\n            margin:\"10px auto\",\r\n            maxWidth:\"500px\",\r\n            padding:\"20px\",\r\n            textAlign:\"center\"\r\n        }}>\r\n            <input type=\"text\"\r\n\r\n             placeholder=\"title\"\r\n             value={title}\r\n             onChange={(e)=>setTitle(e.target.value)}/>\r\n            <input type=\"text\"\r\n             placeholder=\"body\"\r\n             value={body}\r\n             onChange={(e)=>setBody(e.target.value)}\r\n             />\r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn #64b5f6 blue darken-1\">\r\n                    <span>\r\n                        Upload Image\r\n                    </span>\r\n                    <input\r\n                     type=\"file\"\r\n                    onChange={(e)=>setImage(e.target.files[0])} />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\"/> \r\n                </div>\r\n                \r\n\r\n            </div>\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" \r\n            onClick={()=>postDetails()} > \r\n                Submit Post\r\n            </button>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default CreatePost;","C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\Signin.js",[],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\reducers\\userReducer.js",[],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\SubscribesUserPost.js",[],"C:\\Users\\91779\\Desktop\\MERNProjects\\Insta-clone\\Instgram\\server\\client\\src\\components\\screens\\UserProfile.js",["62"],"import React,{useEffect,useState,useContext}from 'react';\r\nimport {UserContext} from \"../../App\"\r\nimport {useParams} from \"react-router-dom\"\r\n\r\nconst UserProfile =()=>{\r\n    const [userProfile,setUserProfile] = useState(null)\r\n    \r\n    const {state,dispatch}= useContext(UserContext)\r\n\r\n    const {userid}=useParams()\r\n    const [showfollow,setShowFollow] = useState(state?!state.following.includes(userid):true)\r\n  \r\n    useEffect(()=>{\r\n        // eslint-disable-next-line\r\n    \r\n        fetch(`/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") \r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            setUserProfile(result)\r\n            })\r\n    },[])\r\n\r\n    const followUser = ()=>{\r\n        fetch('/follow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setUserProfile((prevState)=>{\r\n                const newFollower = prevState.user.followers.filter(item=>item !== data._id)\r\n                return{\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:newFollower\r\n                    }\r\n                }\r\n            })\r\n            setShowFollow(false)\r\n        })\r\n    }\r\n    const unfollowUser = ()=>{\r\n        fetch('/unfollow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setUserProfile((prevState)=>{\r\n                return{\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:[...prevState.user.followers,data._id\r\n                        ]\r\n                    }\r\n                }\r\n            })\r\n            setShowFollow(true)\r\n        })\r\n    }\r\n    return(\r\n        <>\r\n        {userProfile ? \r\n        <div style={{maxWidth:\"550px\", margin:\"0px auto\"}}>\r\n        <div style={{\r\n             display:\"flex\",\r\n             justifyContent:\"space-around\",\r\n             margin:\"18px 0px\",\r\n             borderBottom:\"1px solid grey\"\r\n         }}>\r\n            <div>\r\n                 <img style={{width:\"160px\", height:\"160px\",borderRadius:\"80px\"}} alt=\"\"\r\n                 src={userProfile.user.photo}/>\r\n\r\n                </div>\r\n                <div>\r\n                    <h4>{userProfile.user.name}</h4>\r\n                    <h4>{userProfile.user.email}</h4>\r\n                    <div style={{display:\"flex\",justifyContent:\"space-around\",width:\"118%\"}}>\r\n                      <h6>{userProfile.posts.length}Posts</h6>\r\n                      <h6>{userProfile.user.followers.length}followers</h6>\r\n                      <h6>{userProfile.user.following.length}following</h6>\r\n                    </div>\r\n                    {showfollow?\r\n                    <button style={{margin:\"10px\"}} className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" \r\n                    onClick={()=>followUser()}>\r\n                     Follow  \r\n                   </button>\r\n                   :\r\n                   <button style={{margin:\"10px\"}} className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" \r\n                   onClick={()=>unfollowUser()}>\r\n                  Unfollow  \r\n                  </button>\r\n                    }\r\n                    \r\n                   \r\n                </div>\r\n            </div>\r\n            <div className=\"gallery\">\r\n             { \r\n                 userProfile.posts.map(item=>{\r\n                  return(\r\n                  <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/> \r\n                 )}\r\n              \r\n             )\r\n             }\r\n            </div>\r\n        </div>\r\n         : <h2>Loading..</h2>}\r\n       \r\n       </>\r\n\r\n    )\r\n    \r\n}\r\nexport default UserProfile;\r\n",{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":20,"column":10,"nodeType":"69","messageId":"70","endLine":20,"endColumn":15},{"ruleId":"71","severity":1,"message":"72","line":31,"column":5,"nodeType":"73","endLine":31,"endColumn":7,"suggestions":"74"},{"ruleId":"71","severity":1,"message":"75","line":18,"column":8,"nodeType":"73","endLine":18,"endColumn":13,"suggestions":"76"},{"ruleId":"71","severity":1,"message":"77","line":57,"column":7,"nodeType":"73","endLine":57,"endColumn":14,"suggestions":"78"},{"ruleId":"71","severity":1,"message":"79","line":44,"column":7,"nodeType":"73","endLine":44,"endColumn":12,"suggestions":"80"},{"ruleId":"71","severity":1,"message":"81","line":25,"column":7,"nodeType":"73","endLine":25,"endColumn":9,"suggestions":"82"},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["85"],"React Hook useEffect has a missing dependency: 'uploadFields'. Either include it or remove the dependency array.",["86"],"React Hook useEffect has missing dependencies: 'dispatch' and 'state'. Either include them or remove the dependency array.",["87"],"React Hook useEffect has missing dependencies: 'body', 'history', and 'title'. Either include them or remove the dependency array.",["88"],"React Hook useEffect has a missing dependency: 'userid'. Either include it or remove the dependency array.",["89"],"no-global-assign","no-unsafe-negation",{"desc":"90","fix":"91"},{"desc":"92","fix":"93"},{"desc":"94","fix":"95"},{"desc":"96","fix":"97"},{"desc":"98","fix":"99"},"Update the dependencies array to be: [dispatch, history]",{"range":"100","text":"101"},"Update the dependencies array to be: [uploadFields, url]",{"range":"102","text":"103"},"Update the dependencies array to be: [dispatch, image, state]",{"range":"104","text":"105"},"Update the dependencies array to be: [body, history, title, url]",{"range":"106","text":"107"},"Update the dependencies array to be: [userid]",{"range":"108","text":"109"},[1002,1004],"[dispatch, history]",[494,499],"[uploadFields, url]",[1823,1830],"[dispatch, image, state]",[1192,1197],"[body, history, title, url]",[778,780],"[userid]"]